# DataType

Defines what function the CANBUS instruction will perform. This instruction can be used to collect data, buffer data for transmission to the CAN-bus, transmit data to the CAN-bus, read or reset error counters, read the status of the SDM-CAN, read the SDM-CAN's OS signature and version, send a remote frame, or read or set the SDM-CAN's internal switches. Enter the numeric value for the desired option:

| Value | Description                                                                                                                                                                      |
| ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ----------- | ----------- | --- | --- | --- | ---- | --------------------------------------------------------------------------- | --- | ---- | ----------------------------------------------------------------------------------------------------- | --- | ---- | ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------ | ---- | --------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | --- | --- | ------------------- | --- | --- | --- | --------------------------------- | --- | --- | ----------------------------------- | --- | --- | --------------------------------- | --- | --- | ------------------- | --- | --- | ----------------------------------------------- | --- | --- | ------------------------------- | --- | --- | --- | ---------------------------------------------------------------------- | --- | --- | -------------------------------------------------------------------------------------------------------------------------------------- | --- | --- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --- | --- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- | --- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --- | --- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- | --- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- | --- | ------------ | --- | --- | ------------ | --- | --- | ------------------------------- | --- |
| 1     | Retrieve data; unsigned integer, most significant byte first                                                                                                                     |
| 2     | Retrieve data; unsigned integer, least significant byte first                                                                                                                    |
| 3     | Retrieve data; signed integer, most significant byte first                                                                                                                       |
| 4     | Retrieve data; signed integer, least significant byte first                                                                                                                      |
| 5     | Retrieve data; 4-byte IEEE floating point number; most significant byte first                                                                                                    |
| 6     | Retrieve data; 4-byte IEEE floating point number; least significant byte first                                                                                                   |
| 7     | Build data frame in SDM-CAN memory; unsigned integer, most significant byte first. Overwrite existing data                                                                       |
| 8     | Build data frame in SDM-CAN memory; unsigned integer, least significant byte first. Overwrite existing data.                                                                     |
| 9     | Build data frame in SDM-CAN memory; signed integer, most significant byte first. Overwrite existing data.                                                                        |
| 10    | Build data frame in SDM-CAN memory; signed integer, least significant byte first. Overwrite existing data.                                                                       |
| 11    | Build data frame in SDM-CAN memory; 4-byte IEEE floating point number; most significant byte first. Overwrite existing data.                                                     |
| 12    | Build data frame in SDM-CAN memory; 4-byte IEEE floating point number; least significant byte first. Overwrite existing data.                                                    |
| 13    | Build data frame in SDM-CAN memory; unsigned integer, most significant byte first. Logical "OR" with existing data.                                                              |
| 14    | Build data frame in SDM-CAN memory; unsigned integer, least significant byte first. Logical "OR" with existing data.                                                             |
| 15    | Build data frame in SDM-CAN memory; signed integer, most significant byte first. Logical "OR" with existing data.                                                                |
| 16    | Build data frame in SDM-CAN memory; signed integer, least significant byte first. Logical "OR" with existing data.                                                               |
| 17    | Build data frame in SDM-CAN memory; 4-byte IEEE floating point number; most significant byte first. Logical "OR" with existing data.                                             |
| 18    | Build data frame in SDM-CAN memory; 4-byte IEEE floating point number; least significant byte first. Logical "OR" with existing data.                                            |
| 19    | Transmit data value to the CAN-bus; unsigned integer, most significant byte first.                                                                                               |
| 20    | Transmit data value to the CAN-bus; unsigned integer, least significant byte first.                                                                                              |
| 21    | Transmit data value to the CAN-bus; signed integer, most significant byte first.                                                                                                 |
| 22    | Transmit data value to the CAN-bus; signed integer, least significant byte first.                                                                                                |
| 23    | Transmit data value to the CAN-bus; 4-byte IEEE floating point number; most significant byte first.                                                                              |
| 24    | Transmit data value to the CAN-bus; 4-byte IEEE floating point number; least significant byte first.                                                                             |
| 25    | Transmit previously built data frame to the CAN-bus.                                                                                                                             |
| 26    | Set up previously built data frame as a Remote Frame Response.                                                                                                                   |
| 27    | Read Transmit, Receive, Overrun, and Watchdog errors. The errors are placed consecutively in the array specified by the Dest parameter.                                          |
| 28    | Read Transmit, Receive, Overrun, and Watchdog errors. The errors are placed consecutively in the array specified by the Dest parameter. Reset error counters to 0 after reading. |
| 29    | Read SDM-CAN status; result is placed into the array specified in the Dest parameter. The result codes are as follows:                                                           | Status | Description |             | --- | --- |     | 0000 | The SDM-CAN is involved in bus activities; error counters are less than 96. |     | 0001 | The SDM-CAN is involved in bus activities; one or more error counters is greater than or equal to 96. |     | 0002 | The SDM-CAN is not involved in bus activities; error counters are less than 96. |                                                                                                              | 0003 | The SDM-CAN is not involved in bus activities; one or more error counters is greater than or equal to 96. |                                                                                                                                                      |
| 30    | Read SDM-CAN operating system and version number; results are placed in two consecutive array variables beginning with the variable specified in the Dest parameter.             |
| 31    | Send Remote Frame Request.                                                                                                                                                       |
| 32    | Set SDM-CAN's internal switches. The code is stored in the array specified in the Dest parameter and is entered in the form of ABCD.                                             | Switch | Code        | Description |     | --- | --- | ---  |                                                                             | A   | 0    | Currently not used; set to 0.                                                                         |     | B    | 0                                                                               | SDM-CAN returns the last value captured from the network, even if that value has been read before (default). |      | 1                                                                                                         | SDM-CAN returns -99999 if a data value is requested by the datalogger and a new value has not been captured from the network since the last request. |     | 2-9 | Currently not used. |     | C   | 0   | Disable I/O interrupts (default). |     | 1   | Enable I/O interrupts, pulsed mode. |     | 2   | Enable I/O interrupts, fast mode. |     | 3-7 | Currently not used. |     | 8   | Place the SDM-CAN into low power stand-by mode. |     | 9   | Leave switch setting unchanged. |     | D   | 0   | Listen only (error passive) mode. CAN transmissions are not confirmed. |     | 1   | Transmit once. Data will not be retransmitted in case of error or loss of arbitration. Frames received without error are acknowledged. |     | 2   | Self-reception. A frame transmitted from the SDM-CAN that was acknowledged by an external node will also be received by the SDM-CAN but no retransmission will occur in the event of loss of arbitration or error. Frames received correctly from an external node are acknowledged. |     | 3   | Normal, retransmission will occur in the event of loss of arbitration or error. Frames received correctly from an external node are acknowledged. This is the typical setting to use if the SDM-CAN is to be used to transmit data. |     | 4   | Transmit once; self-test. The SDM-CAN will perform a successful transmission even if there is no acknowledgment from an external CAN node. Frames received correctly from an external node are acknowledged. |     | 5   | Self-reception; self -test. The SDM-CAN will perform a successful transmission even if there is no acknowledgment from an external CAN node. Frames received correctly from an external node are acknowledged. SDM-CAN will receive its own transmission. |     | 6   | Normal; self-test. The SDM-CAN will perform a successful transmission even if there is no acknowledgment from an external CAN node. Frames received correctly from an external node are acknowledged. |     | 7   | Not defined. |     | 8   | Not defined. |     | 9   | Leave switch setting unchanged. |     |
| 33    | Read SDM-CAN's internal switches. Place results in the array specified in the Dest parameter.                                                                                    |
